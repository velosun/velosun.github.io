<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Calculateur de Coût Carbone et Équivalence en Distance</title>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
    }
    .container {
        width: 50%;
        margin: auto;
        padding: 5px; /* Ajoute un padding autour du container */
        box-sizing: border-box; /* Inclut le padding et la bordure dans la largeur du container */
    }
    header {
        background: #50b3a2;
        color: white;
        text-align: center;
        padding: 1em 0;
    }
    .center {
        text-align: center;
    }
    .center button {
        background-color: green;  /* Background color of the button */
        color: white;  /* Text color of the button */
        font-family: 'Courier New', Courier, monospace; /* Font similar to Terminal */
        font-size: 20px; /* Size of font */
        padding: 10px 20px;  /* Vertical and Horizontal padding to increase size */
        border: none; /* Removes the default border */
        cursor: pointer; /* Changes the cursor to a hand when hovering over the button */
        text-align: center; /* Centers the text inside the button */
    }
    .center button:hover {
        background-color: darkgreen; /* Darkens the background color a bit when the button is hovered */
    }
    .content {
        padding: 5px;
    }
    p {
        font-size: 18px;
        line-height: 1.6em;
    }
</style>
</head>
<body>

<div class="container">
    <header>
        <h1>Calculateur de Coût Carbone et Équivalence en Distance en Avion</h1>
    </header>
    <div class="content">
        <script>
        // Demande à l'utilisateur de saisir un nombre d'heures
        let heures = prompt("Veuillez entrer le nombre d'heures de calcul sur un GPU d'un super calculateur :");

        // Convertit la saisie de l'utilisateur en un nombre décimal
        heures = parseFloat(heures);

        // Vérifie si la saisie de l'utilisateur est un nombre
        if(isNaN(heures) || heures < 0) {
            document.write("<p>Veuillez rafraîchir la page et entrer un nombre valide d'heures.</p>");
        } else {
            // Calculer le coût carbone
            const kWh_par_heure = 0.482;
            const kgCO2_par_kWh = 0.035;

            let cout_carbone = heures * kWh_par_heure * kgCO2_par_kWh;

            // Calculer les équivalents en distance pour les avions
            let avion_courte_distance = cout_carbone / 0.23;
            let avion_longue_distance = cout_carbone / 0.152;

            // Affiche le résultat à l'utilisateur dans la page HTML

            document.write("<p>Le coût carbone pour <span style='color:green;'>" + heures + " heures</span> de calcul est de <span style='color:red;'>" + cout_carbone.toFixed(2) + " kgCO2e.</spam></p>");
            document.write("<p>Cela équivaut à environ :</p>");
            document.write("<ul><li><span style='color:red;'>" + avion_courte_distance.toFixed(2) + " km</span> en avion sur une courte distance par personne,</li>");
            document.write("<li><span style='color:red;'>" + avion_longue_distance.toFixed(2) + " km</span> en avion sur une longue distance par personne.</li></ul>");

            document.write("<p></p>");
            document.write("<p><i><span style='font-size:0.8em;'>Les valeurs utilisées proviennent des données disponibles sur le site du supercalculateur Jean Zay, le site de l'ADEME (les moyens de transport) et wikipedia (cout eCO2/kWh du mix énergétique français, données 2014). Cette page a été entièrement générée par ChatGPT avec le prompt \"donne un code javascript demandant à l'utilisateur un nombre d'heures, qui correspond a un nombre d'heures de calcul sur un GPU d'un super calculateur, puis qui calcul automatiquement le cout carbone, sachant que une heure de calcul c'est 0.482kWh et que le mix énergétique français c'est 0.035kgCO2e/kWh\", suivi du prompt \"En reprenant le premier script que tu m'as donné, ajoute un message avec le résultat et donnant en plus le nombre de kilomètres que l'on pourrait parcourir avec les moyens de transport suivant sachant leur cout carbone: (1) avion courte distance : 0,23 kg CO2e / km / personne (2) avion longue distance : 0,152 kg CO2e / km / personne\", et enfin le prompt \"transforme ce script pour que la réponse soit affichée en pleine page html (pas dans une boite) avec une jolie mise en forme, et en écrivant explicitement les prompts mentionnés ci-avant dans le texte.\". Le tout a été relu (et modifié à la marge) par un humain.</i></p>");

            document.write("<p><i><span style='font-size:0.5em;'>Dernière mise à jour: 29/9/2023, Nicolas.Bredeche (at) sorbonne-universite (point) fr (remarques, erreurs, données plus récentes, etc.). \"A moins d'une erreur, ces données sont correctes.\"</i></p>");
        }
        </script>
            
        <div class="center">
            <button onclick="location.reload();">Cliquez ici pour recommencer</button>
        </div>
        <script>
            document.write("<p></p>");
        </script>
    </div>
</div>

</body>
</html>
